
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prenotazione Confermata - AUROOMS</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" />
  <link rel="stylesheet" href="style.css" />
  <style>
    .confirmation-card {
      background: var(--card-background-color);
      padding: 2rem;
      border-radius: 12px;
      text-align: center;
      margin: 2rem 0;
      border: 2px solid var(--primary);
    }
    .success-icon {
      font-size: 4rem;
      color: var(--primary);
      margin-bottom: 1rem;
    }
    .booking-details {
      background: var(--secondary-background);
      padding: 1.5rem;
      border-radius: 8px;
      margin: 1.5rem 0;
      text-align: left;
    }
    .action-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }
    .info-section {
      background: var(--primary-background);
      padding: 1rem;
      border-radius: 8px;
      margin: 1rem 0;
    }
  </style>
</head>
<body>
  <nav class="container-fluid">
    <ul>
      <li>
        <a href="index.html" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 0.5rem;">
          <img src="./attached_assets/logo_aurooms.jpg" alt="AUROOMS Logo" style="height: 35px; width: auto; border-radius: 4px;">
          <strong>AUROOMS</strong>
        </a>
      </li>
    </ul>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="dashboard.html" data-lang="it">La Mia Area</a></li>
      <li><a href="dashboard.html" class="hidden" data-lang="en">My Account</a></li>
      <li class="lang-toggle">
        <img src="https://flagcdn.com/w40/it.png" class="flag" onclick="switchLang('it')" alt="IT">
        <img src="https://flagcdn.com/w40/gb.png" class="flag" onclick="switchLang('en')" alt="EN">
      </li>
    </ul>
  </nav>

  <main class="container">
    <div class="confirmation-card">
      <div class="success-icon">âœ…</div>
      <h1 data-lang="it">Prenotazione Confermata!</h1>
      <h1 class="hidden" data-lang="en">Booking Confirmed!</h1>
      <h3 data-lang="it">Grazie per aver scelto AUROOMS</h3>
      <h3 class="hidden" data-lang="en">Thank you for choosing AUROOMS</h3>
      
      <div class="booking-details">
        <h4 data-lang="it">Dettagli della Prenotazione</h4>
        <h4 class="hidden" data-lang="en">Booking Details</h4>
        <div class="grid">
          <div>
            <p><strong data-lang="it">Codice Prenotazione:</strong><strong class="hidden" data-lang="en">Booking Code:</strong> <span id="booking-code">â€”</span></p>
            <p><strong data-lang="it">Camera:</strong><strong class="hidden" data-lang="en">Room:</strong> <span id="room-details">â€”</span></p>
            <p><strong data-lang="it">Ospite:</strong><strong class="hidden" data-lang="en">Guest:</strong> <span id="guest-name">â€”</span></p>
            <p><strong>Email:</strong> <span id="guest-email">â€”</span></p>
          </div>
          <div>
            <p><strong>Check-in:</strong> <span id="checkin-date">â€”</span></p>
            <p><strong>Check-out:</strong> <span id="checkout-date">â€”</span></p>
            <p><strong data-lang="it">Ospiti:</strong><strong class="hidden" data-lang="en">Guests:</strong> <span id="guests-count">â€”</span></p>
            <p><strong data-lang="it">Totale Pagato:</strong><strong class="hidden" data-lang="en">Total Paid:</strong> â‚¬<span id="total-amount">â€”</span></p>
          </div>
        </div>
      </div>

      <div class="info-section">
        <h5 data-lang="it">ğŸ“§ Conferma via Email</h5>
        <h5 class="hidden" data-lang="en">ğŸ“§ Email Confirmation</h5>
        <p data-lang="it">Abbiamo inviato tutti i dettagli della prenotazione alla tua email. 
        Se non ricevi l'email entro 10 minuti, controlla la cartella spam.</p>
        <p class="hidden" data-lang="en">We have sent all booking details to your email. 
        If you don't receive the email within 10 minutes, check your spam folder.</p>
      </div>

      <div class="action-buttons">
        <a href="#" onclick="downloadConfirmation()" role="button" class="secondary">
          <span data-lang="it">ğŸ“„ Scarica Conferma PDF</span>
          <span class="hidden" data-lang="en">ğŸ“„ Download PDF Confirmation</span>
        </a>
        <a href="https://wa.me/393471234567" target="_blank" role="button" class="secondary">
          <span data-lang="it">ğŸ’¬ Contattaci su WhatsApp</span>
          <span class="hidden" data-lang="en">ğŸ’¬ Contact us on WhatsApp</span>
        </a>
        <a href="dashboard.html" role="button">
          <span data-lang="it">ğŸ‘¤ Vai alla Mia Area</span>
          <span class="hidden" data-lang="en">ğŸ‘¤ Go to My Account</span>
        </a>
      </div>
    </div>

    <article>
      <h3 data-lang="it">Informazioni Importanti</h3>
      <h3 class="hidden" data-lang="en">Important Information</h3>
      
      <div class="grid">
        <div>
          <h4 data-lang="it">ğŸ• Orari Check-in/Check-out</h4>
          <h4 class="hidden" data-lang="en">ğŸ• Check-in/Check-out Times</h4>
          <p data-lang="it"><strong>Check-in:</strong> dalle 15:00 alle 22:00</p>
          <p class="hidden" data-lang="en"><strong>Check-in:</strong> from 3:00 PM to 10:00 PM</p>
          <p data-lang="it"><strong>Check-out:</strong> entro le 11:00</p>
          <p class="hidden" data-lang="en"><strong>Check-out:</strong> by 11:00 AM</p>
          <p data-lang="it"><small>Check-in tardivo disponibile su richiesta (+â‚¬20)</small></p>
          <p class="hidden" data-lang="en"><small>Late check-in available on request (+â‚¬20)</small></p>
        </div>
        
        <div>
          <h4 data-lang="it">ğŸ“ Come Raggiungerci</h4>
          <h4 class="hidden" data-lang="en">ğŸ“ How to Reach Us</h4>
          <p data-lang="it"><strong>Indirizzo:</strong> Via Roma 123, Cinisi (PA)</p>
          <p class="hidden" data-lang="en"><strong>Address:</strong> Via Roma 123, Cinisi (PA)</p>
          <p data-lang="it"><strong>Dall'aeroporto:</strong> 10 minuti in auto</p>
          <p class="hidden" data-lang="en"><strong>From airport:</strong> 10 minutes by car</p>
          <p data-lang="it"><strong>Transfer disponibile:</strong> +39 347 123 4567</p>
          <p class="hidden" data-lang="en"><strong>Transfer available:</strong> +39 347 123 4567</p>
        </div>
      </div>

      <div class="grid">
        <div>
          <h4 data-lang="it">ğŸ  Servizi Inclusi</h4>
          <h4 class="hidden" data-lang="en">ğŸ  Included Services</h4>
          <ul data-lang="it">
            <li>âœ“ Wi-Fi gratuito</li>
            <li>âœ“ Aria condizionata</li>
            <li>âœ“ TV satellitare</li>
            <li>âœ“ Cassaforte</li>
            <li>âœ“ Asciugacapelli</li>
            <li>âœ“ Set cortesia</li>
          </ul>
          <ul class="hidden" data-lang="en">
            <li>âœ“ Free Wi-Fi</li>
            <li>âœ“ Air conditioning</li>
            <li>âœ“ Satellite TV</li>
            <li>âœ“ Safe</li>
            <li>âœ“ Hair dryer</li>
            <li>âœ“ Toiletries</li>
          </ul>
        </div>
        
        <div>
          <h4 data-lang="it">ğŸ“ Contatti</h4>
          <h4 class="hidden" data-lang="en">ğŸ“ Contacts</h4>
          <p data-lang="it"><strong>Telefono:</strong> +39 375 884 3175</p>
          <p class="hidden" data-lang="en"><strong>Phone:</strong> +39 375 884 3175</p>
          <p><strong>WhatsApp:</strong> +39 375 884 3175</p>
          <p data-lang="it"><strong>Emergenze 24h:</strong> +39 375 884 3175</p>
          <p class="hidden" data-lang="en"><strong>24h Emergency:</strong> +39 375 884 3175</p>
        </div>
      </div>

      <div class="info-section">
        <h4 data-lang="it">ğŸš— Cosa Visitare Nei Dintorni</h4>
        <h4 class="hidden" data-lang="en">ğŸš— What to Visit Nearby</h4>
        <div class="grid">
          <div data-lang="it">
            <p><strong>Palermo:</strong> 30 km (centro storico, mercati)</p>
            <p><strong>Mondello:</strong> 25 km (spiaggia paradisiaca)</p>
            <p><strong>CefalÃ¹:</strong> 70 km (borgo medievale)</p>
          </div>
          <div class="hidden" data-lang="en">
            <p><strong>Palermo:</strong> 30 km (historic center, markets)</p>
            <p><strong>Mondello:</strong> 25 km (paradise beach)</p>
            <p><strong>CefalÃ¹:</strong> 70 km (medieval town)</p>
          </div>
          <div data-lang="it">
            <p><strong>Segesta:</strong> 40 km (tempio greco)</p>
            <p><strong>Monreale:</strong> 35 km (duomo patrimonio UNESCO)</p>
            <p><strong>Riserva dello Zingaro:</strong> 60 km</p>
          </div>
          <div class="hidden" data-lang="en">
            <p><strong>Segesta:</strong> 40 km (Greek temple)</p>
            <p><strong>Monreale:</strong> 35 km (UNESCO cathedral)</p>
            <p><strong>Zingaro Reserve:</strong> 60 km</p>
          </div>
        </div>
      </div>
    </article>

    <footer style="text-align: center; margin: 3rem 0;">
      <p data-lang="it">Grazie per aver scelto <strong>AUROOMS Guest House</strong></p>
      <p class="hidden" data-lang="en">Thank you for choosing <strong>AUROOMS Guest House</strong></p>
      <p data-lang="it">Non vediamo l'ora di accogliervi!</p>
      <p class="hidden" data-lang="en">We look forward to welcoming you!</p>
      <div style="margin-top: 2rem;">
        <a href="index.html" role="button" class="secondary">
          <span data-lang="it">â† Torna alla Home</span>
          <span class="hidden" data-lang="en">â† Back to Home</span>
        </a>
        <a href="index.html#booking" role="button">
          <span data-lang="it">Prenota un Altro Soggiorno</span>
          <span class="hidden" data-lang="en">Book Another Stay</span>
        </a>
      </div>
    </footer>
  </main>

  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      loadBookingConfirmation();
      
      // Send confirmation data to hotel (simulate)
      sendBookingNotification();
    });

    function loadBookingConfirmation() {
      // Load completed booking data
      const completedBooking = localStorage.getItem('completedBooking');
      
      if (!completedBooking) {
        alert('Nessuna prenotazione trovata. Verrai reindirizzato alla home.');
        window.location.href = 'index.html';
        return;
      }

      const booking = JSON.parse(completedBooking);
      
      // Update page with booking details
      document.getElementById('booking-code').textContent = booking.bookingReference;
      document.getElementById('room-details').textContent = booking.room.name;
      document.getElementById('guest-name').textContent = `${booking.guest.nome} ${booking.guest.cognome}`;
      document.getElementById('guest-email').textContent = booking.guest.email;
      document.getElementById('checkin-date').textContent = new Date(booking.dates.checkin).toLocaleDateString('it-IT');
      document.getElementById('checkout-date').textContent = new Date(booking.dates.checkout).toLocaleDateString('it-IT');
      document.getElementById('guests-count').textContent = booking.details.guests;
      document.getElementById('total-amount').textContent = booking.total;
    }

    function sendBookingNotification() {
      const booking = JSON.parse(localStorage.getItem('completedBooking'));
      
      // Simulate sending confirmation email to guest
      console.log('Confirmation email sent to:', booking.guest.email);
      
      // Simulate WhatsApp notification to hotel owner
      const hotelMessage = `ğŸ¨ PRENOTAZIONE COMPLETATA - AUROOMS

ğŸ“‹ Codice: ${booking.bookingReference}
ğŸ‘¤ Ospite: ${booking.guest.nome} ${booking.guest.cognome}
ğŸ“§ Email: ${booking.guest.email}
ğŸ“± Tel: ${booking.guest.telefono}

ğŸ  Camera: ${booking.room.name}
ğŸ“… Arrivo: ${new Date(booking.dates.checkin).toLocaleDateString('it-IT')}
ğŸ“… Partenza: ${new Date(booking.dates.checkout).toLocaleDateString('it-IT')}
ğŸŒ™ Notti: ${booking.dates.nights}
ğŸ‘¥ Ospiti: ${booking.details.guests}

ğŸ’° Totale: â‚¬${booking.total}
âœ… PAGAMENTO COMPLETATO

${booking.guest.richieste ? 'ğŸ’¬ Richieste: ' + booking.guest.richieste : ''}

ğŸ”— Link prenotazione: https://aurooms.com/booking/${booking.bookingReference}`;

      console.log('WhatsApp notification to hotel:', hotelMessage);
    }

    function downloadConfirmation() {
      // In production, this would generate and download a PDF
      alert('Download PDF in sviluppo. Per ora salva questa pagina o fai screenshot.');
    }

    // Add some confetti effect (simple)
    function createConfetti() {
      const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeaa7'];
      
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.style.position = 'fixed';
          confetti.style.top = '-10px';
          confetti.style.left = Math.random() * 100 + 'vw';
          confetti.style.width = '10px';
          confetti.style.height = '10px';
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.pointerEvents = 'none';
          confetti.style.zIndex = '9999';
          confetti.style.borderRadius = '50%';
          
          document.body.appendChild(confetti);
          
          let pos = -10;
          const fall = setInterval(() => {
            pos += 3;
            confetti.style.top = pos + 'px';
            confetti.style.transform = `rotate(${pos * 2}deg)`;
            
            if (pos > window.innerHeight) {
              clearInterval(fall);
              confetti.remove();
            }
          }, 20);
        }, i * 100);
      }
    }

    // Show confetti on page load
    setTimeout(createConfetti, 500);
  </script>
</body>
</html>
